<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Git 从新手走向专家" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="Git 从新手走向专家，一站式服务，让你从一个对 Git 一无所知的小白，走向一个对 Git 了如指掌的专家。" /><meta property="og:description" content="Git 从新手走向专家，一站式服务，让你从一个对 Git 一无所知的小白，走向一个对 Git 了如指掌的专家。" /><link rel="canonical" href="https://www.geekpanshi.com/archives/94b85f7e.html" /><meta property="og:url" content="https://www.geekpanshi.com/archives/94b85f7e.html" /><meta property="og:site_name" content="Geek panshi" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-07-26T17:00:50+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Git 从新手走向专家" /><meta name="twitter:site" content="@geekpanshi" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-12T07:12:28+08:00","datePublished":"2019-07-26T17:00:50+08:00","description":"Git 从新手走向专家，一站式服务，让你从一个对 Git 一无所知的小白，走向一个对 Git 了如指掌的专家。","headline":"Git 从新手走向专家","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.geekpanshi.com/archives/94b85f7e.html"},"url":"https://www.geekpanshi.com/archives/94b85f7e.html"}</script><title>Git 从新手走向专家 | Geek panshi</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Geek panshi"><meta name="application-name" content="Geek panshi"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://nas.qysit.com:2046/geekpanshi/panshi_imgs/-/raw/main//images/avatar.gif " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Geek panshi</a></div><div class="site-subtitle font-italic">价值投资 终身学习 践行家庭教育</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories.html" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags.html" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives.html" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about.html" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href=" https://github.com/xingangshi " aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" https://twitter.com/geekpanshi " aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['geekpanshi','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href=" /feed.xml " aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>Git 从新手走向专家</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Git 从新手走向专家</h1><div class="post-meta text-muted"><div> 作者 <em> <a href="https://twitter.com/geekpanshi">panshi</a> </em></div><div class="d-flex"><div> <span> 发表于 <em class="timeago" data-ts="1564131650" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2019-07-26 </em> </span> <span> 更新于 <em class="timeago" data-ts="1647040348" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-12 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4043 字"> <em>22 分钟</em> 阅读 </span></div></div></div><div class="post-content"><ul id="toc" class="section-nav"><li class="toc-entry toc-h3"><a href="#git-%E4%BB%8E%E6%96%B0%E6%89%8B%E8%B5%B0%E5%90%91%E4%B8%93%E5%AE%B6">Git 从新手走向专家</a><ul><li class="toc-entry toc-h4"><a href="#1-%E5%B8%B8%E8%A7%81%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E4%B8%80%E8%A7%88">1. 常见版本管理工具一览</a><ul><li class="toc-entry toc-h5"><a href="#11-vss">1.1 VSS</a><li class="toc-entry toc-h5"><a href="#12-cvs">1.2 CVS</a><li class="toc-entry toc-h5"><a href="#13-tfs">1.3 TFS</a><li class="toc-entry toc-h5"><a href="#14-ab">1.4 AB</a><li class="toc-entry toc-h5"><a href="#15-svn">1.5 SVN</a><li class="toc-entry toc-h5"><a href="#16-git">1.6 Git</a></ul><li class="toc-entry toc-h4"><a href="#2-svn-%E5%92%8C-git-%E5%8C%BA%E5%88%AB">2. SVN 和 Git 区别</a><ul><li class="toc-entry toc-h5"><a href="#21-%E4%BB%93%E5%BA%93%E7%9A%84%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84%E4%B8%8D%E5%90%8C">2.1 仓库的组织结构不同</a><li class="toc-entry toc-h5"><a href="#22-%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F%E4%B8%8D%E5%90%8C">2.2 数据组织方式不同</a><li class="toc-entry toc-h5"><a href="#23-%E7%89%88%E6%9C%AC%E5%8F%B7%E7%9A%84%E4%B8%8D%E5%90%8C">2.3 版本号的不同</a><li class="toc-entry toc-h5"><a href="#24-%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6">2.4 权限控制</a><li class="toc-entry toc-h5"><a href="#25-%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B">2.5 日志查看</a><li class="toc-entry toc-h5"><a href="#26-%E8%BF%9C%E7%A8%8B%E6%8F%90%E4%BA%A4">2.6 远程提交</a><li class="toc-entry toc-h5"><a href="#27-%E8%BF%9C%E7%A8%8B%E6%9B%B4%E6%96%B0">2.7 远程更新</a><li class="toc-entry toc-h5"><a href="#28-%E5%A4%9A%E5%88%86%E6%94%AF%E5%8D%8F%E4%BD%9C">2.8 多分支协作</a></ul><li class="toc-entry toc-h4"><a href="#3-git-%E5%AF%B9%E8%B1%A1object">3. Git 对象（object）</a><ul><li class="toc-entry toc-h5"><a href="#31-%E4%BB%80%E4%B9%88%E6%98%AF%E5%AF%B9%E8%B1%A1">3.1 什么是对象</a><li class="toc-entry toc-h5"><a href="#32-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E6%88%90">3.2 对象的构成</a></ul><li class="toc-entry toc-h4"><a href="#4-git-%E7%9A%84%E5%9B%9B%E5%8C%BA%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%97%B6%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2">4. Git 的四区及使用时的数据转换</a><ul><li class="toc-entry toc-h5"><a href="#41-%E5%9B%9B%E5%8C%BA%E5%88%92%E5%88%86">4.1 四区划分</a><li class="toc-entry toc-h5"><a href="#42-%E5%9B%9B%E5%8C%BA%E9%97%B4%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2">4.2 四区间数据转换</a></ul><li class="toc-entry toc-h4"><a href="#5-git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BC%97%E7%94%9F%E7%9B%B8">5. Git 常用命令众生相</a><ul><li class="toc-entry toc-h5"><a href="#51-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">5.1 常用命令</a><li class="toc-entry toc-h5"><a href="#52-%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4">5.2 高级命令</a><li class="toc-entry toc-h5"><a href="#53-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7">5.3 奇技淫巧</a></ul><li class="toc-entry toc-h4"><a href="#6-gitignore-%E5%81%9C%E6%AD%A2%E8%B7%9F%E8%B8%AA%E6%96%87%E4%BB%B6">6. .gitignore 停止跟踪文件</a><li class="toc-entry toc-h4"><a href="#7-git-config-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">7. git config 配置文件</a><ul><li class="toc-entry toc-h5"><a href="#71-%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84">7.1 文件路径</a><li class="toc-entry toc-h5"><a href="#72-%E5%8F%AF%E4%BB%A5%E9%85%8D%E7%BD%AE%E7%9A%84%E5%86%85%E5%AE%B9">7.2 可以配置的内容</a></ul><li class="toc-entry toc-h4"><a href="#8-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E7%AE%A1%E7%90%86">8. 安装使用管理</a><ul><li class="toc-entry toc-h5"><a href="#81-%E5%9C%A8-linux-%E4%B8%8A%E5%AE%89%E8%A3%85">8.1 在 Linux 上安装</a><li class="toc-entry toc-h5"><a href="#82-%E5%9C%A8-windows-%E4%B8%8A%E5%AE%89%E8%A3%85">8.2 在 Windows 上安装</a><li class="toc-entry toc-h5"><a href="#83-%E8%AE%A4%E8%AF%81%E6%96%B9%E5%BC%8F">8.3 认证方式</a><li class="toc-entry toc-h5"><a href="#84-%E4%BB%93%E5%BA%93%E5%92%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86">8.4 仓库和权限管理</a></ul><li class="toc-entry toc-h4"><a href="#9-%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E5%8F%8A%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3">9. 分支合并及冲突解决</a><ul><li class="toc-entry toc-h5"><a href="#91-git-merge">9.1 git merge</a><ul><li class="toc-entry toc-h6"><a href="#911-fast-forward-%E5%90%88%E5%B9%B6">9.1.1 fast-forward 合并</a><li class="toc-entry toc-h6"><a href="#912-no-ff-%E5%90%88%E5%B9%B6">9.1.2 –no-ff 合并</a><li class="toc-entry toc-h6"><a href="#913-squash-%E5%90%88%E5%B9%B6">9.1.3 –squash 合并</a></ul><li class="toc-entry toc-h5"><a href="#94-git-rebase">9.4 git rebase</a><li class="toc-entry toc-h5"><a href="#95-git-cherry-pick">9.5 git cherry-pick</a><li class="toc-entry toc-h5"><a href="#96-%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3">9.6 冲突解决</a></ul><li class="toc-entry toc-h4"><a href="#10-%E5%9B%A2%E9%98%9F%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E4%B9%8B-gitflow">10. 团队开发实践之 GitFlow</a><ul><li class="toc-entry toc-h5"><a href="#101-%E4%BB%80%E4%B9%88%E6%98%AF-gitflow">10.1 什么是 Gitflow</a><li class="toc-entry toc-h5"><a href="#102-%E5%9B%BE%E8%A7%A3-gitflow">10.2 图解 GitFlow</a><li class="toc-entry toc-h5"><a href="#103-gitflow-%E7%9A%84%E6%A8%A1%E5%9E%8B%E4%BD%BF%E7%94%A8">10.3 GitFlow 的模型使用</a></ul><li class="toc-entry toc-h4"><a href="#11-%E5%9F%BA%E4%BA%8E-git-%E7%9A%84%E9%AB%98%E6%95%88%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C">11. 基于 Git 的高效团队协作</a><ul><li class="toc-entry toc-h5"><a href="#111-git--jenkins-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%9B%86%E6%88%90">11.1 Git + Jenkins 自动化集成</a><li class="toc-entry toc-h5"><a href="#112-%E9%80%9A%E8%BF%87%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0-git-%E7%9A%84%E8%87%AA%E5%8A%A8%E5%8C%96">11.2 通过编程实现 Git 的自动化</a><li class="toc-entry toc-h5"><a href="#113-git--jira-%E9%AB%98%E6%95%88%E5%BC%80%E5%8F%91">11.3 Git + Jira 高效开发</a></ul><li class="toc-entry toc-h4"><a href="#12-%E6%9D%82%E9%A1%B9%E5%AD%90%E6%A8%A1%E5%9D%97%E9%92%A9%E5%AD%90%E5%92%8C%E5%A4%A7%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86">12. 杂项：子模块钩子和大文件管理</a><ul><li class="toc-entry toc-h5"><a href="#121-git-submodule">12.1 GIT Submodule</a><li class="toc-entry toc-h5"><a href="#122-git-%E9%92%A9%E5%AD%90">12.2 Git 钩子</a><ul><li class="toc-entry toc-h6"><a href="#1221-%E9%92%A9%E5%AD%90%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">12.2.1 钩子的基本概念</a><li class="toc-entry toc-h6"><a href="#1221-%E9%92%A9%E5%AD%90%E6%A0%B7%E4%BE%8Bcommit-msg">12.2.1 钩子样例（commit-msg）</a></ul><li class="toc-entry toc-h5"><a href="#123-git-lfs">12.3 Git LFS</a><ul><li class="toc-entry toc-h6"><a href="#1231-%E5%AE%89%E8%A3%85">12.3.1 安装</a><li class="toc-entry toc-h6"><a href="#1232-%E4%BD%BF%E7%94%A8">12.3.2 使用</a><li class="toc-entry toc-h6"><a href="#1233-%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90">12.3.3 相关资源</a></ul></ul><li class="toc-entry toc-h4"><a href="#13-%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%9A%84%E6%8E%A2%E7%B4%A2">13. 进一步的探索</a><ul><li class="toc-entry toc-h5"><a href="#131-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99">13.1 学习资料</a><li class="toc-entry toc-h5"><a href="#132-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%9A%84%E8%B5%84%E6%96%99">13.2 工作流的资料</a><li class="toc-entry toc-h5"><a href="#133-%E4%BA%A4%E4%BA%92%E5%BC%8F%E5%AD%A6%E4%B9%A0">13.3 交互式学习</a><li class="toc-entry toc-h5"><a href="#134-%E5%B7%A5%E5%85%B7%E6%88%96%E8%BD%AF%E4%BB%B6">13.4 工具或软件</a></ul></ul></ul><h3> <a class="anchor" href="#git-%E4%BB%8E%E6%96%B0%E6%89%8B%E8%B5%B0%E5%90%91%E4%B8%93%E5%AE%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Git 从新手走向专家</h3><blockquote><p>Git 从新手走向专家，一站式服务，让你从一个对 Git 一无所知的小白，走向一个对 Git 了如指掌的专家。</p><p><img data-src="https://nas.qysit.com:2046/geekpanshi/panshi_imgs/-/raw/main//images/199/git.jpg" alt="Git" data-proofer-ignore></p></blockquote><hr><h4> <a class="anchor" href="#1-%E5%B8%B8%E8%A7%81%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E4%B8%80%E8%A7%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. 常见版本管理工具一览</h4><h5> <a class="anchor" href="#11-vss" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.1 VSS</h5><blockquote><p>VSS（Visual Source Safe），是 Microsoft Visual Studio 的一员，基于 C/S 架构的，只支持 windows 环境。（已被官方抛弃）</p></blockquote><h5> <a class="anchor" href="#12-cvs" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.2 CVS</h5><blockquote><p>CSV（Concurrent Version System）, 是中心版本控制系统，C/S 架构也是 C/S 架构的，买2009 停止维护，大多数服务改迁至 SVN 维护。</p></blockquote><h5> <a class="anchor" href="#13-tfs" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.3 <a href="https://visualstudio.microsoft.com/zh-hans/tfs/">TFS</a></h5><blockquote><p>TFS（Team Foundation Server）, TFS 是微软系产品，Windows 下小型团队开发利器，支持 SVN，最新版也支持 Git 的。</p></blockquote><h5> <a class="anchor" href="#14-ab" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.4 <a href="https://www.alienbrain.com/">AB</a></h5><blockquote><p>AB（AlienBrain），针对计算机图象及数字娱乐项目的资产管理系统</p></blockquote><h5> <a class="anchor" href="#15-svn" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.5 <a href="http://subversion.apache.org/">SVN</a></h5><blockquote><p>SVN（Subversion），是开源版本集中式版本控制系统，C/S 架构。</p></blockquote><h5> <a class="anchor" href="#16-git" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.6 <a href="https://git-scm.com/">Git</a></h5><blockquote><p>Git 开源的分布式版本控制系统，可以有效、高速地处理从很小到非常大的项目版本管理。Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。</p></blockquote><h4> <a class="anchor" href="#2-svn-%E5%92%8C-git-%E5%8C%BA%E5%88%AB" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. SVN 和 Git 区别</h4><h5> <a class="anchor" href="#21-%E4%BB%93%E5%BA%93%E7%9A%84%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84%E4%B8%8D%E5%90%8C" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.1 仓库的组织结构不同</h5><blockquote><p>Git 属于分布式的仓库管理；SVN 属于中心式的仓库管理。</p><p>仓库的组织结构不同：Git 内部的对象层级依赖关系或许和 SVN 类似，工作树永远是一个完整的分支，不同的分支由不同的 head 索引去构建，同一时刻不可能出现在多个分支。</p><p>SVN 默认采用 FSFS 的数据库格式，分支、tag 等默认只是一个不同的路径而已，本质上和普通路径没什么区别的。</p></blockquote><h5> <a class="anchor" href="#22-%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F%E4%B8%8D%E5%90%8C" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.2 数据组织方式不同</h5><blockquote><p>Git 把内容按元数据唯一哈希算法存储，Git 数据完整性更好；SVN 按照文件来组织。</p><p>Git 把内容按照元数据方式存储，每次提交的文件全部内容（snapshot）都会记录，SVN 是按照文件存储的，存储每次提交(commit)之间的差异。</p></blockquote><h5> <a class="anchor" href="#23-%E7%89%88%E6%9C%AC%E5%8F%B7%E7%9A%84%E4%B8%8D%E5%90%8C" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.3 版本号的不同</h5><blockquote><p>Git 通过 SHA-1 哈希算法的唯一 commit 号辨识度低；SVN 更容易识别的全局唯一数字版本号。</p></blockquote><h5> <a class="anchor" href="#24-%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.4 权限控制</h5><blockquote><p>Git，只能针对仓库进行权限控制；SVN，可以对用户精确控制到文件级别的读写权限。</p></blockquote><h5> <a class="anchor" href="#25-%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.5 日志查看</h5><blockquote><p>Git 的代码日志是在本地的；SVN 日志在服务器上的，必须连网查看。</p></blockquote><h5> <a class="anchor" href="#26-%E8%BF%9C%E7%A8%8B%E6%8F%90%E4%BA%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.6 远程提交</h5><blockquote><p>Git 两段式提交：<code>git commit</code> –&gt; <code>git push</code>；SVN 一次性提交 <code>svn commit</code>。</p></blockquote><h5> <a class="anchor" href="#27-%E8%BF%9C%E7%A8%8B%E6%9B%B4%E6%96%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.7 远程更新</h5><blockquote><p>Git 使用 <code>git fetch</code> 或 <code>git pull</code> 分段式更新；SVN 直接 <code>svn update</code> 即可。</p></blockquote><h5> <a class="anchor" href="#28-%E5%A4%9A%E5%88%86%E6%94%AF%E5%8D%8F%E4%BD%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.8 多分支协作</h5><blockquote><p>Git，使用 <code>git checkout</code> 来切切换分支；SVN， <code>svn switch</code> 切换分支协同工作。</p><p>多模块合作，Git 的另一种解决方案 Git Submodule。</p><p>多分支协作： Git，使用 Checkout 后，只更新当前分支的内容的，不更新其他分支的，多分支操作一般是 fetch 远程分支 然后 merge 到当前分支的。</p><p>SVN，使用 Switch 可以在同一个工作树上，对不同的模块 checkout 不同分支上的代码。</p></blockquote><h4> <a class="anchor" href="#3-git-%E5%AF%B9%E8%B1%A1object" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. Git 对象（object）</h4><h5> <a class="anchor" href="#31-%E4%BB%80%E4%B9%88%E6%98%AF%E5%AF%B9%E8%B1%A1" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.1 什么是对象</h5><blockquote><p>对象（object），表示版本历史信息的文件</p><p>通过一个 40 个字符的（40-digit）“对象名” 来索引的，对象名看起来像这样:</p><blockquote><p><code>3ff87c4664981e243g625791c8ea3bbb5f2279a3</code>。</p></blockquote><p>对象名是对文件内容用 SHA1 哈希计算得来的，保证对象名的唯一性。</p></blockquote><h5> <a class="anchor" href="#32-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E6%88%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2 对象的构成</h5><blockquote><p>对象 = 类型 + 内容（内容取决于对象的类型） + 内容大小。</p></blockquote><ul><li>blob – 用来存储文件数据，通常是一个文件；<li>tree – 类似目录，用来管理一些 tree 和 blob；<li>commit – 一个 commit 只指向一个 tree，标记项目某一个特定的时间点状态，包括一些时间点的是元数据，如 时间戳、最后一个提交者等；<li>tag – 标记某一个 commit 的方法。</ul><h4> <a class="anchor" href="#4-git-%E7%9A%84%E5%9B%9B%E5%8C%BA%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%97%B6%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2" aria-hidden="true"><span class="octicon octicon-link"></span></a>4. Git 的四区及使用时的数据转换</h4><h5> <a class="anchor" href="#41-%E5%9B%9B%E5%8C%BA%E5%88%92%E5%88%86" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.1 四区划分</h5><blockquote><p>本地 3 区：工作区（workspace）、暂存区（index）、本地仓库（local repository）</p><p>远程 1 区：远程仓库（remote repository）</p></blockquote><h5> <a class="anchor" href="#42-%E5%9B%9B%E5%8C%BA%E9%97%B4%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2 四区间数据转换</h5><div class="highlighter-rouge"><div class="code-header"> <span data-label-text="/a>4.2"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code> 工作区 暂存区 本地仓库 远程仓库 | --&gt; add (-u) --&gt; | | | | &lt;-- checkout &lt;-- | | | | &lt;-- diff --&gt; | | | | rm --cached &lt;-- | | | | | --&gt; commit --&gt; | | | | &lt;-- reset HEAD &lt;-- | | | &lt;----------- diff HEAD ------------&gt; | | | -----------&gt; commit -a ------------&gt; | | | &lt;----------- checkout HEAD &lt;---------- | | | | | --&gt; push --&gt; | | | | &lt;-- fetch &lt;-- | | &lt;----------- merge &lt;----------- | | | &lt;----------- pull or rebase &lt;------------ | </code></div></div><h4> <a class="anchor" href="#5-git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BC%97%E7%94%9F%E7%9B%B8" aria-hidden="true"><span class="octicon octicon-link"></span></a>5. Git 常用命令众生相</h4><h5> <a class="anchor" href="#51-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.1 常用命令</h5><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"><span class="err">$</span><span class="n">git</span> <span class="n">help</span> <span class="err">$</span><span class="n">git</span> <span class="n">init</span> <span class="err">$</span><span class="n">git</span> <span class="n">clone</span> <span class="n">url</span> <span class="err">$</span><span class="n">git</span> <span class="n">config</span> <span class="err">–</span><span class="k">global</span> <span class="n">user</span><span class="p">.</span><span class="n">name</span> <span class="s">"user_name"</span> <span class="err">$</span><span class="n">git</span> <span class="n">config</span> <span class="err">–</span><span class="k">global</span> <span class="n">user</span><span class="p">.</span><span class="n">email</span> <span class="s">"email@126.com"</span> <span class="err">$</span><span class="n">git</span> <span class="n">branch</span> <span class="err">$</span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">a</span> <span class="err">$</span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span><span class="o">/</span><span class="n">D</span> <span class="n">branch_name</span> <span class="err">$</span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">new_branch_name</span> <span class="err">$</span><span class="n">git</span> <span class="n">checkout</span> <span class="n">file_name</span> <span class="err">$</span><span class="n">git</span> <span class="n">fetch</span> <span class="err">$</span><span class="n">git</span> <span class="n">fetch</span> <span class="err">–</span><span class="n">prune</span> <span class="err">$</span><span class="n">git</span> <span class="n">pull</span> <span class="err">$</span><span class="n">git</span> <span class="n">log</span> <span class="err">$</span><span class="n">git</span> <span class="n">show</span> <span class="err">$</span><span class="n">git</span> <span class="n">status</span> <span class="o">-</span><span class="n">s</span> <span class="err">$</span><span class="n">git</span> <span class="n">diff</span> <span class="err">$</span><span class="n">git</span> <span class="n">add</span> <span class="n">file_name</span> <span class="err">$</span><span class="n">git</span> <span class="n">mv</span> <span class="n">file_A</span> <span class="n">file_B</span> <span class="err">$</span><span class="n">git</span> <span class="n">rm</span> <span class="n">file_name</span> <span class="err">$</span><span class="n">git</span> <span class="n">rm</span> <span class="o">--</span><span class="n">cached</span> <span class="n">file_name</span> <span class="err">$</span><span class="n">git</span> <span class="n">merge</span> <span class="n">other_branch_name</span> <span class="err">$</span><span class="n">git</span> <span class="n">commit</span> <span class="err">$</span><span class="n">git</span> <span class="n">push</span> </code></div></div><h5> <a class="anchor" href="#52-%E9%AB%98%E7%BA%A7%E5%91%BD%E4%BB%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2 高级命令</h5><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"><span class="err">$</span><span class="n">git</span> <span class="n">commit</span> <span class="o">--</span><span class="n">amend</span> <span class="o">-</span><span class="n">m</span> <span class="n">new_message</span> <span class="o">//</span><span class="n">修改上次提交的msg</span> <span class="err">$</span><span class="n">git</span> <span class="n">blame</span> <span class="o">-</span><span class="n">L</span> <span class="mi">38</span><span class="p">,</span><span class="mi">40</span> <span class="n">file_name</span> <span class="o">//</span><span class="n">查看文件逐行修改</span> <span class="err">$</span><span class="n">git</span> <span class="n">reset</span> <span class="err">–</span><span class="n">head</span> <span class="n">HEAD</span> <span class="o">//</span><span class="n">回退到上个版</span> <span class="err">$</span><span class="n">git</span> <span class="n">reset</span> <span class="n">commit_hash</span> <span class="o">//</span><span class="n">回退到指定的提交</span> <span class="err">$</span><span class="n">git</span> <span class="n">revert</span> <span class="n">HEAD</span> <span class="o">//</span><span class="n">撤销最近操作</span> <span class="err">$</span><span class="n">git</span> <span class="n">revert</span> <span class="n">commit</span> <span class="o">//</span><span class="n">撤销某次操作</span> <span class="err">$</span><span class="n">git</span> <span class="n">stash</span> <span class="o">//</span><span class="n">代码暂存</span> <span class="err">$</span><span class="n">git</span> <span class="n">stash</span> <span class="n">pop</span> <span class="o">//</span><span class="n">代码取出</span> <span class="err">$</span><span class="n">git</span> <span class="n">cherry</span><span class="o">-</span><span class="n">pick</span> <span class="mi">38361</span><span class="n">a68</span> <span class="o">//</span><span class="n">复制一个提交的工作</span> <span class="err">$</span><span class="n">git</span> <span class="n">tag</span> <span class="o">//</span><span class="n">里程碑管理</span> <span class="err">$</span><span class="n">git</span> <span class="n">rebase</span> <span class="o">-</span><span class="n">i</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">4</span> <span class="o">//</span><span class="n">重新定义起点</span> <span class="err">$</span><span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">n</span> <span class="o">//</span><span class="n">删除未被跟踪文件</span> <span class="err">$</span><span class="n">git</span> <span class="n">reflog</span> <span class="o">//</span><span class="n">查看所有分支操作</span> <span class="err">$</span><span class="n">git</span> <span class="n">shortlog</span> <span class="o">//</span><span class="n">日志的汇总查询</span> <span class="err">$</span><span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span> <span class="n">show</span> <span class="p">[</span><span class="n">remote</span><span class="p">]</span> <span class="o">//</span><span class="n">远程仓库操作</span> <span class="err">$</span><span class="n">git</span> <span class="n">archive</span> <span class="o">//</span><span class="n">生成可发布的压缩包</span> <span class="err">$</span><span class="n">git</span> <span class="n">bisect</span> <span class="n">start</span> <span class="n">HEAD</span> <span class="mi">4</span><span class="n">d83cf</span> <span class="o">//</span><span class="n">二分查找错误开始</span> <span class="err">$</span><span class="n">git</span> <span class="n">bisect</span> <span class="n">good</span><span class="o">/</span><span class="n">bad</span> <span class="o">//</span><span class="n">二分查找错误标记状态</span> <span class="err">$</span><span class="n">git</span> <span class="n">gc</span> <span class="o">--</span><span class="n">aggressive</span> <span class="o">--</span><span class="n">auto</span> <span class="o">//</span><span class="n">数据维护和恢复</span> </code></div></div><h5> <a class="anchor" href="#53-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.3 奇技淫巧</h5><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"><span class="err">$</span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">m</span> <span class="n">old_name</span> <span class="n">new_name</span> <span class="o">//</span><span class="n">修改分支名</span> <span class="err">$</span><span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">follow</span> <span class="n">file_name</span> <span class="o">//</span><span class="n">显示某个文件的历史</span> <span class="err">$</span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="o">--</span><span class="n">delete</span> <span class="n">branch_name</span> <span class="o">//</span><span class="n">删除远程分支</span><span class="o">-</span><span class="mi">1</span> <span class="err">$</span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="p">:</span><span class="n">remote_branch_name</span> <span class="o">//</span><span class="n">删除远程分支</span><span class="o">-</span><span class="mi">2</span> <span class="err">$</span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">dr</span> <span class="n">remote</span><span class="o">/</span><span class="n">branch_name</span> <span class="o">//</span><span class="n">删除远程分支</span><span class="o">-</span><span class="mi">3</span> <span class="err">$</span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="p">:</span><span class="n">refs</span><span class="o">/</span><span class="n">tags</span><span class="o">/</span><span class="n">tag_name</span> <span class="o">//</span><span class="n">删除远程tag</span> <span class="err">$</span><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">short_name</span> <span class="n">url</span> <span class="o">//</span><span class="n">添加新别名的远程仓库</span> <span class="err">$</span><span class="n">git</span> <span class="n">log</span> <span class="err">–</span><span class="n">reverse</span> <span class="o">-</span><span class="n">p</span> <span class="o">//</span><span class="n">历史重演</span> <span class="err">$</span><span class="n">git</span> <span class="n">show</span> <span class="n">HEAD</span><span class="o">~</span><span class="mi">1</span> <span class="o">//</span><span class="n">历史追溯</span> <span class="err">$</span><span class="n">git</span> <span class="n">shortlog</span> <span class="o">-</span><span class="n">sn</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">merges</span> <span class="o">//</span><span class="n">提交次数排行榜</span> <span class="err">$</span><span class="n">git</span> <span class="n">diff</span> <span class="o">--</span><span class="n">shortstat</span> <span class="s">"@{0 day ago}"</span> <span class="o">//</span><span class="n">查看今天的代码行数</span> <span class="err">$</span><span class="n">git</span> <span class="n">whatchanged</span> <span class="o">--</span><span class="n">since</span><span class="o">=</span><span class="s">'2 weeks ago'</span> <span class="o">//</span><span class="n">查看最近两周的记录</span> <span class="err">$</span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">alias</span><span class="p">.</span><span class="n">st</span> <span class="n">status</span> <span class="o">//</span><span class="n">给命令起别名</span> <span class="err">$</span><span class="n">git</span> <span class="n">bundle</span> <span class="n">create</span> <span class="n">file_name</span> <span class="n">branch_name</span> <span class="o">//</span><span class="n">把分支导出成文件</span> <span class="err">$</span><span class="n">git</span> <span class="n">clone</span> <span class="n">repo</span><span class="p">.</span><span class="n">bundle</span> <span class="n">repo_dir</span> <span class="o">-</span><span class="n">b</span> <span class="n">branch_name</span> <span class="o">//</span><span class="n">从包中导入分支</span> </code></div></div><h4> <a class="anchor" href="#6-gitignore-%E5%81%9C%E6%AD%A2%E8%B7%9F%E8%B8%AA%E6%96%87%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>6. .gitignore 停止跟踪文件</h4><div class="highlighter-rouge"><div class="code-header"> <span data-label-text="/a>6."><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code>文本文件 .gitignore 可以防止一些特定的文件进入到版本控制中。 </code></div></div><p>查看所有项目中忽略的文件 <code>$git ls-files --others --ignored --exclude-standard</code></p><div class="table-wrapper"><table><thead><tr><th align="center">规则<th align="center">备注<tbody><tr><td align="center">fd1/*<td align="center">忽略目录 fd1 下面的全部内容<tr><td align="center">/fd1/*<td align="center">忽略根目录下的 /fd1/ 目录的全部内容<tr><td align="center">!.gitignore<td align="center">不忽略 .gitignore 文件<tr><td align="center">!/fw/sf/<td align="center">不忽略 根目录下的 /fw/sf/ 目录</table></div><h4> <a class="anchor" href="#7-git-config-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>7. git config 配置文件</h4><h5> <a class="anchor" href="#71-%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>7.1 文件路径</h5><blockquote><p>Linux、macOS 下</p><blockquote><ol><li><p>/etc/gitconfig 文件：包含了适用于系统所有用户和所有库的值。 –system</p><li><p>~/.gitconfig 文件：具体到你的用户。 –global</p><li><p>.git/config 文件：Git 目录的，</p></ol></blockquote><p>配置文件优先级： 3 &gt; 2 &gt; 1，优先级高的值覆盖优先级低的值。</p></blockquote><blockquote><p>Windows下</p><blockquote><p>一般位于 C:\Documents and Settings$USER.gitconfig 下</p></blockquote></blockquote><h5> <a class="anchor" href="#72-%E5%8F%AF%E4%BB%A5%E9%85%8D%E7%BD%AE%E7%9A%84%E5%86%85%E5%AE%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>7.2 可以配置的内容</h5><blockquote><p>姓名和邮箱（必须配置）、编辑器、比较工具、配置命令别名或自定义命令、配置显示颜色……</p></blockquote><h4> <a class="anchor" href="#8-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E7%AE%A1%E7%90%86" aria-hidden="true"><span class="octicon octicon-link"></span></a>8. 安装使用管理</h4><h5> <a class="anchor" href="#81-%E5%9C%A8-linux-%E4%B8%8A%E5%AE%89%E8%A3%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>8.1 在 Linux 上安装</h5><ol><li>Fedora : <code>$sudo yum install -y git</code><li>Debian : <code>$sudo apt-get install -y git</code><li><a href="https://git-scm.com/download/linux">更多系统安装</a></ol><h5> <a class="anchor" href="#82-%E5%9C%A8-windows-%E4%B8%8A%E5%AE%89%E8%A3%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>8.2 在 Windows 上安装</h5><ol><li><a href="https://git-scm.com/download/win">Git</a><li><a href="https://gitforwindows.org?_blank">msysGit</a><li><a href="https://desktop.github.com">GitHub for Windows</a><li>Window GUI 支持: 4.1 <a href="https://tortoisegit.org/download/">TortoiseGit</a> 4.2 <a href="https://www.sourcetreeapp.com/">Sourcetree</a> 4.3 VSCode 插件。</ol><h5> <a class="anchor" href="#83-%E8%AE%A4%E8%AF%81%E6%96%B9%E5%BC%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>8.3 认证方式</h5><blockquote><p>一般使用 ssh 认证，当然也可以使用 http。 http 方式的话，Github 只支持 Public 的库，私有库必须使用 ssh 方式。</p></blockquote><h5> <a class="anchor" href="#84-%E4%BB%93%E5%BA%93%E5%92%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86" aria-hidden="true"><span class="octicon octicon-link"></span></a>8.4 仓库和权限管理</h5><ul><li>纯人肉</ul><blockquote><p>把所有用户的公钥保存在 authorized_keys 文件。</p></blockquote><ul><li>自己搭建 Git 服务器：</ul><ol><li><a href="https://about.gitlab.com/pricing/#gitlab-com">GitLab</a><li><a href="https://git-scm.com/book/en/v1/Git-on-the-Server-Gitosis">Gitosis</a></ol><ul><li>使用第三方平台：</ul><ol><li><a href="https://github.com/">Github</a><li><a href="https://git.code.tencent.com/">腾讯工蜂</a><li><a href="https://code.aliyun.com/">阿里云项目管理</a><li><a href="Gitee%EF%BC%9Ahttps://gitee.com/">码云</a></ol><h4> <a class="anchor" href="#9-%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E5%8F%8A%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3" aria-hidden="true"><span class="octicon octicon-link"></span></a>9. 分支合并及冲突解决</h4><h5> <a class="anchor" href="#91-git-merge" aria-hidden="true"><span class="octicon octicon-link"></span></a>9.1 git merge</h5><h6> <a class="anchor" href="#911-fast-forward-%E5%90%88%E5%B9%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>9.1.1 fast-forward 合并</h6><blockquote><p>当待合并的分支比当前分支超前的话，会发生快速合并。</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="err">$</span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="n">test</span> <span class="n">HEAD</span> <span class="n">HEAD</span> <span class="o">|</span> <span class="o">|</span> <span class="n">master</span> <span class="n">master</span> <span class="o">|</span> <span class="o">|</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">--&gt;</span> <span class="n">B_1</span> <span class="o">==&gt;</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">--&gt;</span> <span class="n">B_1</span> <span class="o">|</span> <span class="o">|</span> <span class="n">test</span> <span class="n">test</span> </code></div></div><h6> <a class="anchor" href="#912-no-ff-%E5%90%88%E5%B9%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>9.1.2 –no-ff 合并</h6><blockquote><p>不想快速合并，加上 –no-ff 的非快速合并，会新建一个节点保留被合并记录。</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="err">$</span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="err">–</span><span class="n">no</span><span class="o">-</span><span class="n">ff</span> <span class="n">test</span> <span class="n">HEAD</span> <span class="n">HEAD</span> <span class="o">|</span> <span class="o">|</span> <span class="n">master</span> <span class="n">master</span> <span class="o">|</span> <span class="o">|</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">==&gt;</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">-------&gt;</span> <span class="n">A_3</span><span class="err">【</span><span class="n">新增</span><span class="err">】</span> \ \ <span class="o">/</span> <span class="o">&gt;</span> <span class="n">B_1</span> <span class="o">&gt;</span> <span class="n">B_1</span> <span class="o">|</span> <span class="o">|</span> <span class="n">test</span> <span class="n">test</span> </code></div></div><h6> <a class="anchor" href="#913-squash-%E5%90%88%E5%B9%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>9.1.3 –squash 合并</h6><blockquote><p>SVN 的合并方式，新增一个节点，但是不保留对被合并分支的引用信息。</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="err">$</span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="err">–</span><span class="n">squash</span> <span class="n">test</span> <span class="n">HEAD</span> <span class="n">HEAD</span> <span class="o">|</span> <span class="o">|</span> <span class="n">master</span> <span class="n">master</span> <span class="o">|</span> <span class="o">|</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">==&gt;</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">-------&gt;</span> <span class="n">A_3</span><span class="err">【</span><span class="n">新增</span><span class="err">】</span> \ \ <span class="o">&gt;</span> <span class="n">B_1</span> <span class="o">&gt;</span> <span class="n">B_1</span> <span class="o">|</span> <span class="o">|</span> <span class="n">test</span> <span class="n">test</span> </code></div></div><h5> <a class="anchor" href="#94-git-rebase" aria-hidden="true"><span class="octicon octicon-link"></span></a>9.4 git rebase</h5><blockquote><p>当要合并两个分叉的分支时</p><blockquote><ol><li>merge 是将待合入分支和当前分支不同的部分，在当前分支新建节点。</ol></blockquote></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="err">$</span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">merge</span> <span class="err">–</span><span class="n">no</span><span class="o">-</span><span class="n">ff</span> <span class="n">test</span> <span class="n">HEAD</span> <span class="n">HEAD</span> <span class="o">|</span> <span class="o">|</span> <span class="n">master</span> <span class="n">master</span> <span class="o">|</span> <span class="o">|</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">==&gt;</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">--&gt;</span> <span class="n">A_3</span><span class="err">【</span><span class="n">新增</span><span class="err">】</span> \ \ <span class="o">/</span> <span class="o">&gt;</span> <span class="n">B_1</span> <span class="o">&gt;</span> <span class="n">B_1</span> <span class="o">|</span> <span class="o">|</span> <span class="n">test</span> <span class="n">test</span> </code></div></div><blockquote><blockquote><ol start="2"><li>rebase 会将合入分支上超前的节点在待合入分支上重新提交一遍。</ol></blockquote></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="err">$</span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">rebase</span> <span class="n">test</span> <span class="n">HEAD</span> <span class="n">HEAD</span> <span class="o">|</span> <span class="o">|</span> <span class="n">master</span> <span class="n">master</span> <span class="o">|</span> <span class="o">|</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">==&gt;</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">--&gt;</span> <span class="n">B_1</span><span class="s">'【从新提交 B_1】 \ </span><span class="se">\ </span><span class="s"> &gt; B_1 &gt; B_1 | | test test </span></code></div></div><hr><h5> <a class="anchor" href="#95-git-cherry-pick" aria-hidden="true"><span class="octicon octicon-link"></span></a>9.5 git cherry-pick</h5><blockquote><p>只合并某一个分支的某一个特定节点，而不是分支所有的记录。</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="err">$</span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">cherry</span><span class="o">-</span><span class="n">pick</span> <span class="n">B_1</span> <span class="n">HEAD</span> <span class="n">HEAD</span> <span class="o">|</span> <span class="o">|</span> <span class="n">master</span> <span class="n">master</span> <span class="o">|</span> <span class="o">|</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">==&gt;</span> <span class="n">A_0</span> <span class="o">--&gt;</span> <span class="n">A_1</span> <span class="o">--&gt;</span> <span class="n">A_2</span> <span class="o">--&gt;</span> <span class="n">B_1</span><span class="err">【</span><span class="n">复制</span> <span class="n">B_1</span><span class="err">】</span> \ \ <span class="o">&gt;</span> <span class="n">B_1</span> <span class="o">-&gt;</span> <span class="n">B_2</span> <span class="o">&gt;</span> <span class="n">B_1</span> <span class="o">--&gt;</span> <span class="n">B_2</span> <span class="o">|</span> <span class="o">|</span> <span class="n">test</span> <span class="n">test</span> </code></div></div><h5> <a class="anchor" href="#96-%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3" aria-hidden="true"><span class="octicon octicon-link"></span></a>9.6 冲突解决</h5><blockquote><p>不同分支修改同一份文件时，在合并时可能出现冲突。比如</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="err">$</span><span class="n">git</span> <span class="n">merge</span> <span class="n">feature1</span> <span class="n">Auto</span><span class="o">-</span><span class="n">merging</span> <span class="n">readme</span><span class="p">.</span><span class="n">txt</span> <span class="n">CONFLICT</span> <span class="p">(</span><span class="n">content</span><span class="p">):</span> <span class="n">Merge</span> <span class="n">conflict</span> <span class="ow">in</span> <span class="n">readme</span><span class="p">.</span><span class="n">txt</span> <span class="n">Automatic</span> <span class="n">merge</span> <span class="n">failed</span><span class="p">;</span> <span class="n">fix</span> <span class="n">conflicts</span> <span class="ow">and</span> <span class="n">then</span> <span class="n">commit</span> <span class="n">the</span> <span class="n">result</span><span class="p">.</span> </code></div></div><blockquote><p>Git用 &lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt; 标记出不同分支的内容，比查看 readme.txt 如：</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="n">HEAD</span> <span class="n">Creating</span> <span class="n">a</span> <span class="n">new</span> <span class="n">branch</span> <span class="ow">is</span> <span class="n">quick</span> <span class="o">&amp;</span> <span class="n">simple</span><span class="p">.</span> <span class="o">=======</span> <span class="n">Creating</span> <span class="n">a</span> <span class="n">new</span> <span class="n">branch</span> <span class="ow">is</span> <span class="n">quick</span> <span class="n">AND</span> <span class="n">simple</span><span class="p">.</span> <span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="n">feature1</span> </code></div></div><blockquote><p>我们修改如下后保存：</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="n">Creating</span> <span class="n">a</span> <span class="n">new</span> <span class="n">branch</span> <span class="ow">is</span> <span class="n">quick</span> <span class="ow">and</span> <span class="n">simple</span><span class="p">.</span> </code></div></div><blockquote><p>保存后再提交：</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"> <span class="err">$</span><span class="n">git</span> <span class="n">add</span> <span class="n">readme</span><span class="p">.</span><span class="n">txt</span> <span class="o">&amp;&amp;</span> <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s">"conflict fixed"</span> </code></div></div><h4> <a class="anchor" href="#10-%E5%9B%A2%E9%98%9F%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E4%B9%8B-gitflow" aria-hidden="true"><span class="octicon octicon-link"></span></a>10. 团队开发实践之 GitFlow</h4><h5> <a class="anchor" href="#101-%E4%BB%80%E4%B9%88%E6%98%AF-gitflow" aria-hidden="true"><span class="octicon octicon-link"></span></a>10.1 什么是 Gitflow</h5><blockquote><p>Gitflow，一个荷兰人 nvie 提出的一个基于 Git 版本开发的模型，包括以下内容：</p></blockquote><ol><li>master 分支，1 个，总是稳定版本的代码，随时可发布；<li>develop 分支，1 个，合并 feature 分支的，可用于创建 release 版本。<li>feature 分支，同时存在多个；<li>release 分支，同一时间只有 1 个，周期很短，为了发布版本；<li>hotfix 分支，同一时间只有 1 个，周期较短，用来修复 bug 或小粒度修改发布。</ol><ul><li><a href="https://nvie.com/posts/a-successful-git-branching-model">GitFlow官网</a><li><a href="https://github.com/nvie">作者 Github</a></ul><h5> <a class="anchor" href="#102-%E5%9B%BE%E8%A7%A3-gitflow" aria-hidden="true"><span class="octicon octicon-link"></span></a>10.2 图解 GitFlow</h5><p><img data-src="https://nas.qysit.com:2046/geekpanshi/panshi_imgs/-/raw/main//images/199/gitflow1.png" alt="GitFlow" data-proofer-ignore></p><h5> <a class="anchor" href="#103-gitflow-%E7%9A%84%E6%A8%A1%E5%9E%8B%E4%BD%BF%E7%94%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>10.3 GitFlow 的模型使用</h5><ul><li><a href="https://github.com/nvie/gitflow">gitflow 库支持 GitFlow 模型</a><li><a href="https://www.sourcetreeapp.com/">SourceTree 软件的 gitflow</a></ul><p><img data-src="https://nas.qysit.com:2046/geekpanshi/panshi_imgs/-/raw/main//images/199/gitflow-sourcetree.png" alt="gitflow-SourceTree" data-proofer-ignore></p><h4> <a class="anchor" href="#11-%E5%9F%BA%E4%BA%8E-git-%E7%9A%84%E9%AB%98%E6%95%88%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>11. 基于 Git 的高效团队协作</h4><h5> <a class="anchor" href="#111-git--jenkins-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%9B%86%E6%88%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>11.1 Git + Jenkins 自动化集成</h5><blockquote><p>git 提交代码后 –&gt; 自动或手动触发 jenkins 执行相应脚本 –&gt; 查看构建历史。</p></blockquote><h5> <a class="anchor" href="#112-%E9%80%9A%E8%BF%87%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0-git-%E7%9A%84%E8%87%AA%E5%8A%A8%E5%8C%96" aria-hidden="true"><span class="octicon octicon-link"></span></a>11.2 通过编程实现 Git 的自动化</h5><ul><li><p><a href="http://www.eclipse.org/jgit/">JGit</a>，用于操作 git 的纯 Java 库。</p><li><p><a href="https://pypi.org/project/GitPython/">GitPython</a>，与 Git 交互的 python 库。安装方式：<code>$sudo pip install gitpython</code></p></ul><h5> <a class="anchor" href="#113-git--jira-%E9%AB%98%E6%95%88%E5%BC%80%E5%8F%91" aria-hidden="true"><span class="octicon octicon-link"></span></a>11.3 Git + Jira 高效开发</h5><blockquote><p>在 Jira 中查看 Git 提交，分支，标签和请求。</p><p>连接 git 服务器 + GitHub、Bitbucket、GitLab 和 Azure、Repos、VSTS/TFS</p></blockquote><ul><li><a href="https://www.atlassian.com/zh/software/bitbucket">Jira 官网</a></ul><h4> <a class="anchor" href="#12-%E6%9D%82%E9%A1%B9%E5%AD%90%E6%A8%A1%E5%9D%97%E9%92%A9%E5%AD%90%E5%92%8C%E5%A4%A7%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86" aria-hidden="true"><span class="octicon octicon-link"></span></a>12. 杂项：子模块钩子和大文件管理</h4><h5> <a class="anchor" href="#121-git-submodule" aria-hidden="true"><span class="octicon octicon-link"></span></a>12.1 GIT Submodule</h5><blockquote><p>GIT Submodule，项目间是独立的，但是项目需要使用其他项目的时候。</p></blockquote><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"><span class="err">$</span><span class="n">git</span> <span class="n">submodule</span> <span class="n">add</span> <span class="n">sub_project_url</span> <span class="n">add_path</span> <span class="o">//</span><span class="n">添加子项目</span> <span class="err">$</span><span class="n">git</span> <span class="n">submodule</span> <span class="n">init</span> <span class="o">//</span><span class="n">初始化子模块</span> <span class="err">$</span><span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">recursive</span> <span class="o">//</span><span class="n">更新子模块</span> <span class="err">$</span><span class="n">git</span> <span class="n">submodule</span> <span class="n">foreach</span> <span class="n">git</span> <span class="n">pull</span> <span class="o">//</span><span class="n">更新所有子模块</span> <span class="o">//</span><span class="n">以下为删除子模块操作</span> <span class="err">$</span><span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="n">sub_project_dir</span> <span class="o">//</span><span class="n">删除子模块目录及源码</span> <span class="err">$</span><span class="n">vi</span> <span class="p">.</span><span class="n">gitmodules</span> <span class="o">//</span><span class="n">删除项目目录下子模块相关条目</span> <span class="err">$</span><span class="n">vi</span> <span class="p">.</span><span class="n">git</span><span class="o">/</span><span class="n">config</span> <span class="o">//</span><span class="n">删除配置项中子模块相关条目</span> <span class="err">$</span><span class="n">rm</span> <span class="p">.</span><span class="n">git</span><span class="o">/</span><span class="n">module</span><span class="o">/*</span> <span class="o">//</span><span class="n">删除模块下的子模块目录</span> <span class="err">$</span><span class="n">git</span> <span class="n">rm</span> <span class="o">--</span><span class="n">cached</span> <span class="n">sub_project_name</span> </code></div></div><h5> <a class="anchor" href="#122-git-%E9%92%A9%E5%AD%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>12.2 Git 钩子</h5><blockquote><p>Git 钩子：在特定的重要动作发生时触发自定义脚本，分客户端和服务端钩子。</p></blockquote><h6> <a class="anchor" href="#1221-%E9%92%A9%E5%AD%90%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" aria-hidden="true"><span class="octicon octicon-link"></span></a>12.2.1 钩子的基本概念</h6><blockquote><p>位置：在 Git 目录下的 hooks 子目录中。 即项目中 .git/hooks 。</p><p>客户端钩子：提交工作流钩子、电子邮件工作流钩子和其它钩子。服务端钩子：对项目强制执行各种类型的策略。</p><p>任何可执行的文件都可以作为钩子的脚本。 <img data-src="https://nas.qysit.com:2046/geekpanshi/panshi_imgs/-/raw/main//images/199/hooks.png" alt="hooks" data-proofer-ignore></p></blockquote><h6> <a class="anchor" href="#1221-%E9%92%A9%E5%AD%90%E6%A0%B7%E4%BE%8Bcommit-msg" aria-hidden="true"><span class="octicon octicon-link"></span></a>12.2.1 钩子样例（commit-msg）</h6><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"><span class="c1">#!/usr/bin/env python # coding=utf-8 # commit msg checker </span> <span class="kn">import</span> <span class="nn">sys</span><span class="p">,</span> <span class="n">re</span><span class="p">,</span> <span class="n">io</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">stdout</span><span class="p">,</span> <span class="s">'buffer'</span><span class="p">):</span> <span class="n">sys</span><span class="p">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">io</span><span class="p">.</span><span class="n">TextIOWrapper</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">stdout</span><span class="p">.</span><span class="nb">buffer</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="n">TIPS_INFO</span> <span class="o">=</span> <span class="s">''' 不符合 commit 规范，提交失败（当前状态等于没做刚刚的 commit 操作），请按下面规则从新提交！ commit 规范： 类型: 详细消息 说明: 类型 - 功能、优化、Bug； 连接符 - 英文冒号 + 空格，即 “: ”； 详细信息 - 自定义描述，当类型是 Bug 时，详细信息必须要包括 Jira 上的Bug 标识 “OTDEFECT-” 或 “修复” 字样。 规范样例： 1. 功能: 匹配增加接受确认步骤 2. 优化: 天梯匹配分组优化 3. Bug: OTDEFECT-1001 当通过玩家ID搜索站内信时，结果能返回但是标题等字段返回值为空 4. Bug: 修复通过接口不能踢人的问题 '''</span> <span class="k">def</span> <span class="nf">check_commit_line1_format</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span> <span class="n">regOther</span> <span class="o">=</span> <span class="sa">r</span><span class="s">'\S{3,} (.){4,100}'</span> <span class="k">if</span> <span class="n">msg</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"功能"</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">msg</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"优化"</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">msg</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"Bug"</span><span class="p">)</span> <span class="o">!=</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">msg</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">": "</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="bp">False</span> <span class="k">if</span> <span class="n">msg</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"Bug"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">msg</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"OTDEFECT-"</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">msg</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"修复"</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="bp">False</span> <span class="n">matchObj</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="n">regOther</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span> <span class="k">return</span> <span class="n">matchObj</span> <span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">"__main__"</span><span class="p">:</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span> <span class="k">if</span> <span class="p">(</span><span class="n">check_commit_line1_format</span><span class="p">(</span><span class="n">line</span><span class="p">)):</span> <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">else</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="n">TIPS_INFO</span><span class="p">)</span> <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> </code></div></div><h5> <a class="anchor" href="#123-git-lfs" aria-hidden="true"><span class="octicon octicon-link"></span></a>12.3 Git LFS</h5><blockquote><p>GIT 提交文件，不要超过 100M，GitHub 超过 50M 警告、超过 100M 禁止。</p><p>Git LFS 是 Github 开发的一个 Git 的扩展，用于实现 Git 对大文件的支持。</p><p>在 Working with large files - GitHub Help 中提到：不建议对大文件如日志、database 等使用 Git 进行版本控制，如果非要有这种需求，则建议使用 Git LFS。</p></blockquote><h6> <a class="anchor" href="#1231-%E5%AE%89%E8%A3%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>12.3.1 安装</h6><p><strong>注意</strong>：安装 Git LFS 需要 Git 的版本不低于 1.8.5。不管什么系统，安装后都需要全局初始化一次。</p><ul><li>Linux</ul><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"><span class="err">$</span><span class="n">curl</span> <span class="o">-</span><span class="n">s</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">packagecloud</span><span class="p">.</span><span class="n">io</span><span class="o">/</span><span class="n">install</span><span class="o">/</span><span class="n">repositories</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">git</span><span class="o">-</span><span class="n">lfs</span><span class="o">/</span><span class="n">script</span><span class="p">.</span><span class="n">deb</span><span class="p">.</span><span class="n">sh</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">bash</span> <span class="err">$</span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">git</span><span class="o">-</span><span class="n">lfs</span> <span class="err">$</span><span class="n">git</span> <span class="n">lfs</span> <span class="n">install</span> </code></div></div><ul><li>Mac</ul><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"><span class="o">//</span><span class="n">安装</span> <span class="n">HomeBrew</span> <span class="err">$</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ruby</span> <span class="o">-</span><span class="n">e</span> <span class="s">"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span> <span class="err">$</span><span class="n">brew</span> <span class="n">install</span> <span class="n">git</span><span class="o">-</span><span class="n">lfs</span> <span class="err">$</span><span class="n">git</span> <span class="n">lfs</span> <span class="n">install</span> </code></div></div><ul><li>Windows</ul><ol><li>下载：<a href="https://github.com/git-lfs/git-lfs/releases">git-lfs</a><li>运行 windows installer（git-lfs-windows-v2.8.0.exe）<li>在命令行执行 <code>$git lfs install</code></ol><h6> <a class="anchor" href="#1232-%E4%BD%BF%E7%94%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>12.3.2 使用</h6><div class="language-python highlighter-rouge"><div class="highlight"><code data-lang="python"><span class="err">$</span><span class="n">git</span> <span class="n">lfs</span> <span class="n">install</span> <span class="o">//</span><span class="n">需要在项目根目录执行一次</span><span class="err">，</span><span class="n">初始化</span> <span class="err">$</span><span class="n">git</span> <span class="n">lfs</span> <span class="n">track</span> <span class="n">README</span><span class="p">.</span><span class="n">md</span> <span class="o">//</span><span class="n">跟踪大文件</span> <span class="err">$</span><span class="n">git</span> <span class="n">lfs</span> <span class="n">track</span> <span class="o">//</span><span class="n">显示被跟踪的文件</span> <span class="err">$</span><span class="n">git</span> <span class="n">add</span> <span class="p">.</span><span class="n">gitattributes</span> <span class="o">//</span><span class="n">需要跟踪记录大文件信息</span> <span class="p">.</span><span class="n">gitattributes</span> <span class="n">文件</span> <span class="err">$</span><span class="n">git</span> <span class="n">add</span> <span class="n">README</span><span class="p">.</span><span class="n">md</span> <span class="err">$</span><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s">"Add README.md and init git-lfs"</span> <span class="err">$</span><span class="n">git</span> <span class="n">push</span> <span class="err">$</span><span class="n">git</span> <span class="n">lfs</span> <span class="n">clone</span> <span class="n">URL</span> <span class="o">//</span><span class="n">lfs</span> <span class="n">clone</span> <span class="err">，</span><span class="n">或者直接</span> <span class="n">git</span> <span class="n">clone</span> </code></div></div><h6> <a class="anchor" href="#1233-%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>12.3.3 相关资源</h6><ol><li><a href="https://github.com/git-lfs/git-lfs">git-lfs </a><li><a href="https://git-lfs.github.com/">git-lfs - windows</a><li><a href="https://github.com/git-lfs/git-lfs/releases">git-lfs - Release</a><li><a href="https://zzz.buzz/zh/2016/04/19/the-guide-to-git-lfs/">git-lfs - 参考</a><li><a href="https://help.github.com/cn/articles/removing-files-from-git-large-file-storage">lfs 删除文件</a><li><a href="https://blog.walterlv.com/git/2017/09/19/delete-file-using-filter-branch.html">使用 filter-branch 从 Git 历史中删除一个文件</a><li><a href="http://openfibers.github.io/blog/2015/03/04/use-bfg-to-clean-big-blog-in-git/">使用 BFG Repo-Cleaner 清除 git 的历史错误提交</a></ol><h4> <a class="anchor" href="#13-%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%9A%84%E6%8E%A2%E7%B4%A2" aria-hidden="true"><span class="octicon octicon-link"></span></a>13. 进一步的探索</h4><h5> <a class="anchor" href="#131-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99" aria-hidden="true"><span class="octicon octicon-link"></span></a>13.1 学习资料</h5><ol><li><a href="https://git-scm.com/book/en/v2">Book - Pro Git</a><li><a href="https://guides.github.com/introduction/git-handbook">Git Handbook</a><li><a href="https://github.github.com/training-kit">GitCheatSheets</a><li><a href="https://github.com/gotgit/gotgit">Book - gotgit</a><li><a href="http://gitbook.liuhui998.com/">GitCommunityBook</a><li><a href="https://github.com/pluralsight/git-internals-pdf">Git Internals</a><li><a href="https://backlog.com/git-tutorial/cn/">猴子都能懂的GIT入门</a></ol><h5> <a class="anchor" href="#132-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%9A%84%E8%B5%84%E6%96%99" aria-hidden="true"><span class="octicon octicon-link"></span></a>13.2 工作流的资料</h5><ol><li><a href="https://nvie.com/posts/a-successful-git-branching-model">GitFlow</a><li><a href="http://documentup.com/skwp/git-workflows-book">Git Workflows</a><li><a href="https://github.com/Originate/git-town">git-town</a><li><a href="https://github.com/asmeurer/git-workflow">git-workflow</a></ol><h5> <a class="anchor" href="#133-%E4%BA%A4%E4%BA%92%E5%BC%8F%E5%AD%A6%E4%B9%A0" aria-hidden="true"><span class="octicon octicon-link"></span></a>13.3 交互式学习</h5><ol><li><a href="https://learngitbranching.js.org">LearnGitBranch</a><li><a href="https://git-school.github.io/visualizing-git/">Visualizing Git</a><li><a href="https://github.com/jlord/git-it-electron#what-to-install">Git-It</a></ol><h5> <a class="anchor" href="#134-%E5%B7%A5%E5%85%B7%E6%88%96%E8%BD%AF%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>13.4 工具或软件</h5><ol><li><a href="https://gitexplorer.com">Git Command Explorer</a><li><a href="https://ndpsoftware.com/git-cheatsheet.html">GIT CHEATSHEET</a><li><a href="https://git-scm.com/downloads/guis">GUI Clients</a><li><a href="http://firstaidgit.io/#/">git 常见问题搜索</a><li><a href="https://github.com/unixorn/git-extra-commands">一些可能有用的脚本</a></ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/'>生活点滴</a>, <a href='/categories/%E6%97%A5%E5%B8%B8%E6%9B%B4%E6%96%B0/'>日常更新</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/git/" class="post-tag no-text-decoration" >Git</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >Linux</a> <a href="/tags/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF/" class="post-tag no-text-decoration" >后端技术</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/" class="post-tag no-text-decoration" >软件推荐</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Git+%E4%BB%8E%E6%96%B0%E6%89%8B%E8%B5%B0%E5%90%91%E4%B8%93%E5%AE%B6+-+Geek+panshi&url=https%3A%2F%2Fwww.geekpanshi.com%2Farchives%2F94b85f7e.html" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Git+%E4%BB%8E%E6%96%B0%E6%89%8B%E8%B5%B0%E5%90%91%E4%B8%93%E5%AE%B6+-+Geek+panshi&u=https%3A%2F%2Fwww.geekpanshi.com%2Farchives%2F94b85f7e.html" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fwww.geekpanshi.com%2Farchives%2F94b85f7e.html&text=Git+%E4%BB%8E%E6%96%B0%E6%89%8B%E8%B5%B0%E5%90%91%E4%B8%93%E5%AE%B6+-+Geek+panshi" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="geekpanshi/apc" issue-term="pathname" label="apc" theme="github-light" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/archives/0x3fd3cd48bb500001.html">2022 年 3 月随笔</a><li><a href="/archives/nous-05-about-body.html">关于人体的常识</a><li><a href="/archives/0x3fdacd41bb500001.html">技术学习的思考和总结</a><li><a href="/archives/tools-01-about-notes.html">日程管理思考和软件推荐</a><li><a href="/archives/0x3fd3vd41bb520001.html">知识库和工具推荐</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/">时间管理</a> <a class="post-tag" href="/tags/%E6%95%99%E8%82%B2/">教育</a> <a class="post-tag" href="/tags/%E6%95%B0%E6%8D%AE%E4%BA%BA%E7%94%9F/">数据人生</a> <a class="post-tag" href="/tags/%E6%9C%AD%E8%AE%B0%E4%BA%BA%E7%94%9F/">札记人生</a> <a class="post-tag" href="/tags/%E7%BE%8E%E6%96%87%E6%8E%A8%E8%8D%90/">美文推荐</a> <a class="post-tag" href="/tags/%E4%BA%92%E8%81%94%E7%BD%91/">互联网</a> <a class="post-tag" href="/tags/%E8%B4%A2%E5%95%86/">财商</a> <a class="post-tag" href="/tags/%E5%AE%B6%E5%BA%AD/">家庭</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/%E4%BF%AE%E8%BA%AB%E5%85%BB%E6%80%A7/">修身养性</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/archives/e726fbde.html"><div class="card-body"> <em class="timeago small" data-ts="1543044050" > 2018-11-24 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>用 Python 做 Blockchain 的实用入门教程</h3><div class="text-muted small"><p></p></div></div></a></div><div class="card"> <a href="/archives/6fcd5607.html"><div class="card-body"> <em class="timeago small" data-ts="1545290450" > 2018-12-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>更好的时间管理，提高自己的生产力</h3><div class="text-muted small"><p></p></div></div></a></div><div class="card"> <a href="/archives/8effb180.html"><div class="card-body"> <em class="timeago small" data-ts="1541713670" > 2018-11-09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>作家如何绘制他们想象的世界</h3><div class="text-muted small"><p></p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/archives/8225c3.html" class="btn btn-outline-primary" prompt="上一篇"><p>帮助独立开发者可以赚钱的一些资源</p></a> <a href="/archives/a3b39d52.html" class="btn btn-outline-primary" prompt="下一篇"><p>从 100 到 200，一个煎熬的过程，也是一个全新的开始：写在第 200 篇博文的时候</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/geekpanshi">panshi</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/">时间管理</a> <a class="post-tag" href="/tags/%E6%95%99%E8%82%B2/">教育</a> <a class="post-tag" href="/tags/%E6%95%B0%E6%8D%AE%E4%BA%BA%E7%94%9F/">数据人生</a> <a class="post-tag" href="/tags/%E6%9C%AD%E8%AE%B0%E4%BA%BA%E7%94%9F/">札记人生</a> <a class="post-tag" href="/tags/%E7%BE%8E%E6%96%87%E6%8E%A8%E8%8D%90/">美文推荐</a> <a class="post-tag" href="/tags/%E4%BA%92%E8%81%94%E7%BD%91/">互联网</a> <a class="post-tag" href="/tags/%E8%B4%A2%E5%95%86/">财商</a> <a class="post-tag" href="/tags/%E5%AE%B6%E5%BA%AD/">家庭</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/%E4%BF%AE%E8%BA%AB%E5%85%BB%E6%80%A7/">修身养性</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
